!function(a,b,c,d,e){d.sync=function(a,b,c){c()};{var f=d.Model.extend({defaults:{type:"string",level:0,key:"",value:""}}),g=d.Collection.extend({model:f}),h=d.View.extend({tagName:"li",events:{"click span.delete":"remove","change input":"updateModel"},initialize:function(){e.bindAll(this,"render","unrender","remove","updateModel"),this.model.bind("change",this.render),this.model.bind("remove",this.unrender),this.model.bind("updateModel",this.updateModel)},render:function(){return c(this.el).html('<input class="key" id="key-'+this.model.cid+'" type="text" value="'+this.model.get("key")+'" />: <input class="value" id="value-'+this.model.cid+'" type="text" value="'+this.model.get("value")+'" /> <span class="delete" style="cursor:pointer; color:red; font-family:sans-serif;">[delete]</span>'),this},unrender:function(){c(this.el).remove()},remove:function(){this.model.destroy()},updateModel:function(){var a=c("#key-"+this.model.cid).val(),b=c("#value-"+this.model.cid).val();this.model.set({key:a,value:b})}}),i=d.View.extend({el:c("#content-json-editor"),events:{"click button#add":"addItem"},initialize:function(){e.bindAll(this,"render","addItem","appendItem","updateContent"),this.collection=c("#content").val()?new g(JSON.parse(c("#content").val())):new g,this.collection.bind("add",this.appendItem),this.collection.bind("change reset add remove",this.updateContent),this.render()},render:function(){var a=this;c(this.el).append("<button id='add'>Add list item</button>"),c(this.el).append("<ul></ul>"),e(this.collection.models).each(function(b){a.appendItem(b)},this)},addItem:function(a){a.preventDefault();var b=new f;this.collection.add(b)},appendItem:function(a){var b=new h({model:a});c("ul",this.el).append(b.render().el)},updateContent:function(){c("#content").val(JSON.stringify(this.collection))}});new i}}(this,document,jQuery,Backbone,_);